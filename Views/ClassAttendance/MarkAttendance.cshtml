@model SchoolSystem.ViewModels.AttendanceViewModel

<div class="container mx-auto p-6 bg-white shadow-xl rounded-lg">
    <h2 class="text-3xl font-semibold text-gray-800 mb-8 text-center">
        เช็คชื่อ - @Model.ClassName - @Model.CourseName - @Model.date.ToShortDateString()
    </h2>

    <form method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="cmId" />
        <input type="hidden" asp-for="date" />
        <input type="hidden" asp-for="ClassName" />
        <input type="hidden" asp-for="CourseName" />

        <div class="overflow-x-auto bg-gray-50 rounded-lg shadow-md mb-8">
            <table class="table-auto w-full text-left text-sm">
                <thead class="bg-blue-600 text-white">
                    <tr>
                        <th class="px-6 py-3 text-lg font-semibold">ชื่อนักเรียน</th>
                        <th class="px-6 py-3 text-lg font-semibold">สถานะ</th>
                    </tr>
                </thead>
                <tbody>
                    @for (var i = 0; i < Model.Students.Count; i++)
                    {
                        <tr class="border-t border-gray-200 hover:bg-gray-100 transition-all">
                            <td class="px-6 py-4">
                                @Html.HiddenFor(m => m.Students[i].StudentId)
                                <span class="text-gray-700">@Model.Students[i].StudentName</span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex flex-wrap items-center space-x-4">
                                    <div class="flex items-center">
                                        <input class="form-radio text-green-500" type="radio" name="Students[@i].Status" id="present_@i" value="present" @(Model.Students[i].Status?.ToLower() == "present" ? "checked" : "")>
                                        <label class="ml-2 text-gray-700" for="present_@i">มา</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input class="form-radio text-red-500" type="radio" name="Students[@i].Status" id="absent_@i" value="absent" @(Model.Students[i].Status?.ToLower() == "absent" ? "checked" : "")>
                                        <label class="ml-2 text-gray-700" for="absent_@i">ขาด</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input class="form-radio text-yellow-500" type="radio" name="Students[@i].Status" id="late_@i" value="late" @(Model.Students[i].Status?.ToLower() == "late" ? "checked" : "")>
                                        <label class="ml-2 text-gray-700" for="late_@i">สาย</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input class="form-radio text-blue-500" type="radio" name="Students[@i].Status" id="excused_@i" value="excused" @(Model.Students[i].Status?.ToLower() == "excused" ? "checked" : "")>
                                        <label class="ml-2 text-gray-700" for="excused_@i">ลา</label>
                                    </div>
                                </div>
                                @Html.HiddenFor(m => m.Students[i].StudentName)
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <button type="submit" class="mt-6 w-full bg-blue-600 text-white py-3 rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
            บันทึกการเช็คชื่อ
        </button>
    </form>
</div>
